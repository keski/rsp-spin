PREFIX  :     <http://w3id.org/rsp/>
PREFIX  weather: <http://knoesis.wright.edu/ssw/ont/weather.owl#>
PREFIX  om-owl: <http://knoesis.wright.edu/ssw/ont/sensor-observation.owl#>
PREFIX  sens-obs: <http://knoesis.wright.edu/ssw/>

REGISTER STREAM :q3 AS 

SELECT  ?sensor ?obs ?value
FROM NAMED WINDOW :w ON :s [RANGE PT4S STEP PT4S]
WHERE
  { WINDOW :w
      { ?obs om-owl:observedProperty weather:RelativeHumidity .
        ?obs om-owl:procedure ?sensor .
        ?obs om-owl:result ?res .
        ?res om-owl:floatValue ?value
      }
    FILTER ( ?value < 49 )
    FILTER ( ?value > 24 )
  }